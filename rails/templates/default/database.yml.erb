<% (['development', 'production'] + [@environment]).uniq.each do |env| -%>
<%= env %>:
 adapter: <%= @database[:adapter].to_s.inspect %>
 database: <%= @database[:database].to_s.inspect %>
 encoding: <%= (@database[:encoding] || 'utf8').to_s.inspect %>
 host: <%= (@database[:host] || 'localhost').to_s.inspect %>
 username: <%= @database[:username].to_s.inspect %>
 password: <%= @database[:password].to_s.inspect %>
 reconnect: <%= @database[:reconnect] ? 'true' : 'false' %>
<% if @database[:pool] -%>
 pool: <%= @database[:pool].to_i.inspect %>
<% end -%>
<% if @database[:port] -%>
 port: <%= @database[:port].to_i.inspect %>
<% end -%>

location-<%= env %>:
 adapter: <%= @ext_database[:adapter].to_s.inspect %>
 database: <%= @ext_database[:database].to_s.inspect %>
 encoding: <%= (@ext_database[:encoding] || 'utf8').to_s.inspect %>
 host: <%= (@ext_database[:host] || 'localhost').to_s.inspect %>
 username: <%= @ext_database[:username].to_s.inspect %>
 password: <%= @ext_database[:password].to_s.inspect %>
 reconnect: <%= @ext_database[:reconnect] ? 'true' : 'false' %>
<% if @ext_database[:pool] -%>
 pool: <%= @ext_database[:pool].to_i.inspect %>
<% end -%>
<% if @ext_database[:port] -%>
 port: <%= @ext_database[:port].to_i.inspect %>
<% end -%>


<% end %>